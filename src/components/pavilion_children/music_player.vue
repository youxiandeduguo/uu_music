<template>
    <div class="main">

        <div class="line1">
            <div class="title">UU音乐</div>
            <div class="user">
                <el-avatar src="/img/avatarUser.png" :size=20 />
                <div>用户名</div>
                <div>设置</div>
            </div>
        </div>

        <div class="line2">

            <div class="line2_left">
                <div class="botton_frame">
                    <el-button class="player-btn" plain>
                        <svg t="1738740727070" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5137" width="20" height="20"><path d="M171.712 571.648l0.352 0.32 287.904 252.8a64 64 0 0 0 82.912 1.344l296.832-244.544a215.584 215.584 0 1 0-301.824-300.576L512 316.672l-25.888-35.616a215.584 215.584 0 1 0-314.4 290.624zM32 407.584a279.584 279.584 0 0 1 480-194.944 279.584 279.584 0 0 1 480 194.944 278.144 278.144 0 0 1-113.024 224.512l-295.36 243.392a128 128 0 0 1-165.888-2.592L129.984 620.16A278.976 278.976 0 0 1 32 407.584z" fill="currentColor" p-id="5138"></path></svg>
                        收藏
                    </el-button>
                    <el-button class="player-btn" plain>
                        <svg t="1738742052508" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="6113" width="20" height="20"><path d="M512 958.016611c-119.648434 0-232.1288-46.367961-316.736783-130.559656-84.640667-84.255342-131.263217-196.255772-131.263217-315.455235 0-119.168499 46.624271-231.199892 131.232254-315.424271 84.607983-84.191695 197.088348-130.559656 316.736783-130.559656s232.1288 46.367961 316.704099 130.559656c84.67163 84.224378 131.263217 196.255772 131.263217 315.391587 0.032684 119.199462-46.591587 231.232576-131.263217 315.455235C744.1288 911.615966 631.648434 958.016611 512 958.016611zM512 129.983389c-102.623626 0-199.071738 39.743475-271.583282 111.936783-72.480581 72.12794-112.416718 168.063432-112.416718 270.079828s39.903454 197.951888 112.384034 270.047144c72.511544 72.191587 168.959656 111.936783 271.583282 111.936783 102.592662 0 199.071738-39.743475 271.583282-111.936783 72.480581-72.160624 112.416718-168.063432 112.384034-270.079828 0-102.016396-39.903454-197.919204-112.384034-270.016181C711.071738 169.759548 614.592662 129.983389 512 129.983389z" fill="currentColor" p-id="6114"></path><path d="M736.00086 480.00086 544.00086 480.00086 544.00086 288.00086c0-17.664722-14.336138-32.00086-32.00086-32.00086s-32.00086 14.336138-32.00086 32.00086l0 192L288.00086 480.00086c-17.664722 0-32.00086 14.336138-32.00086 32.00086s14.336138 32.00086 32.00086 32.00086l192 0 0 192c0 17.695686 14.336138 32.00086 32.00086 32.00086s32.00086-14.303454 32.00086-32.00086L544.00258 544.00086l192 0c17.695686 0 32.00086-14.336138 32.00086-32.00086S753.696546 480.00086 736.00086 480.00086z" fill="currentColor" p-id="6115"></path></svg>
                        添加到
                    </el-button>
                    <el-button class="player-btn" plain>
                        <svg t="1738742097396" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="7137" width="20" height="20"><path d="M867.3 342.8L539.5 670.7V79.4c0-15.2-12.3-27.5-27.5-27.5s-27.5 12.3-27.5 27.5v591.3L156.7 342.8c-5.4-5.4-12.4-8-19.4-8-7 0-14.1 2.7-19.4 8-10.7 10.7-10.7 28.1 0 38.8l374.7 374.7c10.7 10.7 28.1 10.7 38.8 0l374.7-374.7c10.7-10.7 10.7-28.1 0-38.8-10.7-10.7-28.1-10.7-38.8 0z m129.2 574.4h-969C12.3 917.2 0 929.5 0 944.6c0 15.2 12.3 27.5 27.5 27.5h969.1c15.2 0 27.5-12.3 27.5-27.5-0.1-15.1-12.4-27.4-27.6-27.4z" fill="currentColor" p-id="7138"></path></svg>
                        下载
                    </el-button>
                    <el-button class="player-btn" plain>
                        <svg t="1738742121867" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="8150" width="20" height="20"><path d="M256 298.666667h512v554.666666H256V298.666667z m85.333333 85.333333v384h341.333334V384H341.333333z m42.666667 85.333333h85.333333v213.333334H384v-213.333334z m170.666667 0h85.333333v213.333334h-85.333333v-213.333334zM213.333333 298.666667h597.333334v85.333333H213.333333V298.666667z m170.666667-128h256v85.333333H384V170.666667z" fill="currentColor" p-id="8151"></path></svg>
                        删除
                    </el-button>
                    <el-button  class="player-btn" plain>
                        <svg t="1738742165984" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="9140" width="20" height="20"><path d="M274.56 798.997333l19.434667-25.130666-33.792 68.565333a18.133333 18.133333 0 0 0 11.562666 25.536l59.733334 16a18.133333 18.133333 0 0 0 17.28-4.48c20.522667-19.818667 35.626667-35.989333 45.290666-48.469333l19.456-25.130667-33.813333 68.565333a18.133333 18.133333 0 0 0 11.562667 25.536l84.48 22.634667a18.133333 18.133333 0 0 0 17.28-4.48c20.522667-19.84 35.626667-35.989333 45.269333-48.469333l19.456-25.130667-33.813333 68.565333A18.133333 18.133333 0 0 0 535.530667 938.666667l72.106666 19.328a18.133333 18.133333 0 0 0 17.28-4.48c20.522667-19.84 35.626667-36.010667 45.269334-48.490667l19.456-25.130667-33.813334 68.586667a18.133333 18.133333 0 0 0 11.584 25.514667l86.421334 23.338666 3.84-0.213333c13.269333-0.704 29.056-5.034667 43.84-12.8 29.781333-15.701333 48.170667-43.2 52.181333-78.250667 2.133333-18.517333 4.778667-38.549333 8.405333-63.530666 1.642667-11.221333 2.944-20.010667 6.229334-41.834667 11.050667-73.322667 14.634667-101.034667 17.130666-133.674667l0.938667-12.373333 2.837333-2.922667 12.330667-1.344a41.813333 41.813333 0 0 0 24.810667-11.221333c10.730667-10.24 14.805333-25.386667 11.093333-42.197333l-37.546667-171.584c-3.029333-13.696-11.264-27.946667-23.146666-39.829334-11.648-11.626667-25.92-20.138667-39.893334-23.893333L723.626667 331.306667l-2.261334-3.925334L774.250667 130.133333c8.32-31.061333-11.754667-63.744-44.970667-72.64l-79.509333-21.312c-33.194667-8.896-66.922667 9.365333-75.264 40.426667l-52.842667 197.269333-3.925333 2.261334-118.101334-31.637334c-13.994667-3.754667-30.634667-3.498667-46.506666 0.746667-16.256 4.352-30.506667 12.586667-39.957334 22.933333l-118.314666 129.792c-11.605333 12.714667-15.658667 27.84-11.52 42.090667 4.16 14.229333 15.850667 25.194667 32.896 30.528l13.610666 4.266667 2.133334 3.882666-3.626667 13.802667c-21.12 79.850667-52.885333 136.917333-85.717333 150.890667-47.530667 20.202667-72.938667 49.429333-78.421334 85.034666-5.034667 32.682667 9.28 67.114667 37.589334 91.541334l22.037333 8.341333 74.666667 20.010667a42.666667 42.666667 0 0 0 41.216-11.050667c15.274667-15.274667 26.88-28.032 34.837333-38.293333z m551.381333-396.565333c14.144 3.797333 29.952 19.2 32.768 32l34.56 157.781333a10.666667 10.666667 0 0 1-13.184 12.586667L240.64 433.493333a10.666667 10.666667 0 0 1-5.12-17.493333l108.8-119.36c8.832-9.685333 30.229333-15.146667 44.373333-11.349333l141.333334 37.866666a21.333333 21.333333 0 0 0 26.133333-15.082666l58.304-217.642667a21.333333 21.333333 0 0 1 26.133333-15.082667l77.056 20.650667a21.333333 21.333333 0 0 1 15.082667 26.133333l-58.325333 217.642667a21.333333 21.333333 0 0 0 15.082666 26.112l136.448 36.565333zM315.456 701.568c-33.664 45.141333-64.597333 79.082667-92.8 101.802667l-5.909333 4.778666-2.837334 0.597334-88.106666-24.106667-2.922667-3.2c-13.034667-14.165333-19.370667-31.04-16.981333-46.592 3.285333-21.333333 22.058667-39.338667 53.205333-52.586667 31.722667-13.482667 59.818667-47.104 82.922667-99.904 10.026667-22.954667 18.88-48.725333 26.389333-76.586666l3.882667-14.4 3.904-2.261334 566.165333 151.701334 2.346667 3.306666-0.789334 12.224c-1.984 30.592-30.336 229.397333-32.128 244.906667-2.346667 20.416-11.306667 34.986667-27.605333 44.394667a73.237333 73.237333 0 0 1-21.397333 8.106666l-5.013334 0.725334-60.373333-16.170667 11.242667-20.288c8.277333-14.976 22.656-43.84 43.093333-86.613333a21.12 21.12 0 0 0-9.962667-28.16l-3.136-1.493334a21.333333 21.333333 0 0 0-26.261333 6.485334c-33.642667 45.056-64.533333 78.912-92.672 101.546666l-5.909333 4.757334-2.837334 0.597333-52.544-14.08 11.114667-20.266667c3.562667-6.485333 7.04-13.013333 10.453333-19.626666 7.04-13.504 17.898667-35.797333 32.597334-66.816a21.290667 21.290667 0 0 0-9.984-28.309334l-3.029334-1.450666a21.333333 21.333333 0 0 0-26.368 6.442666c-33.6 45.013333-64.469333 78.826667-92.608 101.482667l-5.909333 4.757333-2.837333 0.597334-52.138667-13.973334 11.114667-20.266666c3.242667-5.888 6.72-12.416 10.453333-19.626667 6.997333-13.461333 17.962667-35.946667 32.896-67.434667a20.970667 20.970667 0 0 0-10.112-28.010666l-3.328-1.536a21.333333 21.333333 0 0 0-26.069333 6.613333c-33.642667 45.056-64.554667 78.976-92.778667 101.696l-5.909333 4.757333-2.837334 0.597334-32.64-8.746667 11.093334-20.245333c3.541333-6.506667 7.04-13.034667 10.453333-19.626667 6.976-13.482667 17.941333-35.968 32.874667-67.456a21.056 21.056 0 0 0-10.069334-28.074667l-3.242666-1.514666a21.333333 21.333333 0 0 0-26.154667 6.549333z" fill="currentColor" p-id="9141"></path></svg>
                        清空列表
                    </el-button>
                </div>
                <div style="background-color: transparent;">
                    <el-table :data="tableData" style="width: 100%;" @cell-mouse-enter="changeIndex" @cell-mouse-leave="deleteindex" row-style="background-color: transparent; height: 60px" header-row-style="background-color: transparent;">
                        <el-table-column type="selection" width="55" />
                        <el-table-column prop="name" label="歌曲" width="300">
                            <template #default="{row}">
                                <button class="table_btn">{{row.name}}</button>
                            </template>
                        </el-table-column>

                        <el-table-column prop="motion" label="" width="180">
                            <template #default="{row}">
                                <div v-if="index === getIndex(row)" class="motion_frame">
                                    <button class="table_btn">
                                        <svg t="1738744788055" class="icon" viewBox="0 0 1085 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="10146" width="30" height="30"><path d="M546.904228 18.10573c-277.76918 0-502.94529 225.17611-502.94529 502.94529 0 277.77164 225.17488 502.94775 502.94529 502.94775 277.76795 0 502.94529-225.17611 502.94529-502.94775C1049.849518 243.28307 824.672178 18.10573 546.904228 18.10573L546.904228 18.10573zM546.904228 973.701659c-249.992631 0-452.651868-202.659237-452.651868-452.651868 0-249.990172 202.659237-452.649408 452.651868-452.649408s452.650638 202.659237 452.650638 452.649408C999.554866 771.042422 796.896859 973.701659 546.904228 973.701659L546.904228 973.701659zM775.203924 485.406478c-78.267962-53.25591-220.1919-132.967608-301.004232-182.358388-33.132146-20.893592-60.993549-12.502952-63.667043 24.399633-1.938099 98.840588 0 289.550264 0 390.101445 1.681079 37.462125 34.709926 42.403293 63.37559 27.362121 80.72133-48.906255 219.456505-132.95777 300.588574-182.112436C773.968017 562.476656 836.097862 528.305364 775.203924 485.406478L775.203924 485.406478z" fill="currentColor" p-id="10147"></path></svg>
                                    </button>
                                    <button class="table_btn">
                                        <svg t="1738746251356" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="14856" width="30" height="30"><path d="M511.5 957.9C264.9 957.9 65 758.2 65 511.9s199.9-446 446.5-446S958 265.6 958 511.9c0.1 246.3-199.8 446-446.5 446zM509 149.1c-200.4 0-355.8 162.2-355.8 362.3 0 200.1 155.4 356.8 355.8 356.8s362.9-156.7 362.9-356.8c0-200.1-162.5-362.3-362.9-362.3zM690.5 556h-134v133.8c0 24.6-20 44.6-44.6 44.6h-0.1c-24.6 0-44.6-19.9-44.6-44.6V556h-134c-24.7 0-44.6-19.9-44.6-44.5v-0.1c0-24.6 20-44.6 44.6-44.6h134V333c0-24.6 20-44.6 44.6-44.6h0.1c24.7 0 44.6 19.9 44.6 44.6v133.8h134c24.7 0 44.6 19.9 44.6 44.6v0.1c0 24.6-19.9 44.5-44.6 44.5z m0 0" fill="currentColor" p-id="14857"></path></svg>
                                    </button>
                                    <button class="table_btn">
                                        <svg t="1738744882418" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="13878" width="30" height="30"><path d="M511.998 64c21 0 38.1 17 38.1 38.1s-17 38.1-38.1 38.1c-205.4 0-371.9 166.5-371.9 371.9s166.5 371.8 371.9 371.8 371.9-166.5 371.9-371.9c0-21 17-38.1 38.1-38.1s38 17.1 38 38.1c0 247.4-200.6 448-448 448s-448-200.6-448-448 200.6-448 448-448z m230.6 190.5c-14.2-14.7-14-38 0.5-52.4 14.5-14.5 37.8-14.6 52.7-0.2l65.6 65.6c19.8 19.8 19.8 51.8 0 71.6l-65.6 65.6c-14.6 14.6-38.3 14.6-52.9 0-14.6-14.6-14.6-38.3 0-52.9l11.1-11.1h-48.3c-131.3 0-175.9 55.9-175.9 225 0 20.7-16.7 37.4-37.4 37.4s-37.4-16.7-37.4-37.4c0-209.1 76.3-299.8 250.7-299.8h48.3l-11.4-11.4z" fill="currentColor" p-id="13879"></path></svg>
                                    </button>
                                </div>
                                <div v-else>

                                </div>
                            </template>
                        </el-table-column>



                        <el-table-column prop="songer" label="歌手" width="220">
                            <template #default="{row}">
                                <button class="table_btn">{{row.songer}}</button>
                            </template>
                        </el-table-column>
                        <el-table-column prop="time" label="时长">
                            <template #default="{row}">
                                <Table-column v-if="index === getIndex(row)">
                                    <button class="table_btn">
                                        <svg t="1738746466462" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="18640" width="30" height="30"><path d="M874.048 874.048c-199.936 199.936-524.16 199.936-724.096 0-199.936-199.936-199.936-524.16 0-724.096 199.936-199.936 524.16-199.936 724.096 0 199.936 199.936 199.936 524.16 0 724.096zM512 48C255.744 48 48 255.744 48 512s207.744 464 464 464 464-207.744 464-464S768.256 48 512 48z m209.536 684.736c-15.808 15.744-41.344 15.744-57.152-0.064L511.808 580.096 359.424 732.48c-15.744 15.808-41.344 15.808-57.088 0.064-15.808-15.744-15.744-41.344 0-57.152L454.72 523.008 302.784 371.072c-15.808-15.808-15.808-41.408-0.064-57.152 15.808-15.744 41.344-15.744 57.152 0.064L511.808 465.92 664 313.792c15.744-15.808 41.344-15.808 57.088-0.064 15.744 15.808 15.744 41.344 0 57.152L568.896 523.008l152.576 152.576c15.808 15.808 15.808 41.344 0.064 57.152z" fill="currentColor" p-id="18641"></path></svg>
                                    </button>
                                </Table-column>
                                <Table-column v-else>
                                    {{row.time}}
                                </Table-column>
                            </template>
                        </el-table-column>
                    </el-table>
                </div>
            </div>

            <div class="line2_right">
                <img class="cover" src="/music/background.png" alt="封面"></img>
                <el-scrollbar class="lyric">
                    <p v-for="item in 5" :key="item" class="scrollbar-demo-item">歌词</p>
                </el-scrollbar>
            </div>


        </div>


        <div class="music_menu">

            <audio  @timeupdate="updatetime" ref='music' src="/music/苏星捷 - 听悲伤的情歌.mp3"></audio>

            <button class="table_btn">
                <svg t="1738747234397" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="19616" width="30" height="30"><path d="M364.302083 465.602819L687.954365 218.588294c38.416414-29.327534 93.791393-1.929039 93.791392 46.396277v494.029051c0 48.325316-55.374979 75.725617-93.791392 46.398084L364.302083 558.397181c-30.600916-23.357989-30.600916-69.436372 0-92.794362zM238.945254 780.798397V451.684117v-164.562559c0-19.628152-5.904521-60.475733 17.057907-75.841215 25.523642-17.068744 59.747828 1.210165 59.747828 31.919454v493.676839c0 19.628152 5.915358 60.473927-17.047069 75.841215-25.53448 17.068744-59.758666-1.211971-59.758666-31.919454z" fill="currentColor" p-id="19617"></path></svg>
            </button>


            <button v-if="play_pause" class="table_btn" @click="playmusic">
                <svg t="1739186535839" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4177" width="30" height="30"><path d="M231.253333 929.28a25.173333 25.173333 0 0 1-25.173333-25.173333V119.893333a25.173333 25.173333 0 0 1 39.68-20.48l561.066667 392.106667a25.173333 25.173333 0 0 1 0 42.666667L245.76 924.586667a25.173333 25.173333 0 0 1-14.506667 4.693333z" fill="currentColor" p-id="4178"></path></svg>
            </button>

            <button v-else class="table_btn" @click="pausemusic">
                <svg t="1738747275299" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="20592" width="30" height="30"><path d="M128 106.858667C128 94.976 137.621333 85.333333 149.12 85.333333h85.76c11.648 0 21.12 9.6 21.12 21.525334V917.12c0 11.882667-9.621333 21.525333-21.12 21.525333H149.12A21.290667 21.290667 0 0 1 128 917.141333V106.88z m640 0c0-11.882667 9.621333-21.525333 21.12-21.525334h85.76c11.648 0 21.12 9.6 21.12 21.525334V917.12c0 11.882667-9.621333 21.525333-21.12 21.525333h-85.76a21.290667 21.290667 0 0 1-21.12-21.525333V106.88z" fill="currentColor" p-id="20593"></path></svg>
            </button>


            <button class="table_btn">
                <svg t="1738747305055" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2734" width="30" height="30"><path d="M655.706179 465.602819L332.053897 218.588294c-38.414608-29.327534-93.791393-1.929039-93.791392 46.396277v494.029051c0 48.325316 55.376785 75.725617 93.791392 46.398084l323.652282-247.014525c30.602722-23.357989 30.602722-69.436372 0-92.794362zM781.064814 780.798397V451.684117v-164.562559c0-19.628152 5.904521-60.475733-17.057907-75.841215-25.523642-17.068744-59.747828 1.210165-59.747828 31.919454v493.676839c0 19.628152-5.915358 60.473927 17.047069 75.841215 25.532673 17.068744 59.758666-1.211971 59.758666-31.919454z" fill="currentColor" p-id="2735"></path></svg>
            </button>
            <div class="menu_center">
                <div class="menu_center_child">
                    <div>听悲伤的情歌-苏星捷</div>
                    <div>{{ formatime(music?.currentTime||null) }}/{{ formatime(music?.duration||null) }}</div>
                </div>
                <div>
                    <el-slider v-model="progress" @input="settime" :show-tooltip="false" />
                </div>
            </div>

            <button class="table_btn">
                <svg t="1738748772342" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2900" width="20" height="20"><path d="M867.340007 319.228555c-51.538817-51.534723-120.027677-79.890538-192.814423-79.890538H388.423497v-54.715159c0-17.449417-11.967566-23.99653-26.734898-14.519692l-131.680065 85.000929c-14.705933 9.533121-14.583137 24.802896 0.314155 34.022885l131.114177 81.201393c14.772448 9.225105 26.986631 2.430352 26.986631-15.018041v-54.524825H674.588005c116.408243 0 211.132628 94.785783 211.132628 211.133652 0 19.317974-2.552126 38.388309-7.66354 56.705489-4.550643 16.389272 5.048993 33.282011 21.438265 37.766139 2.743484 0.874927 5.481851 1.245364 8.225335 1.245364 13.459546 0 25.802666-8.971325 29.601179-22.493294 6.541997-23.743774 9.784854-48.363498 9.784854-73.163323 0-72.7847-28.355815-141.335982-79.766719-192.750979zM816.547181 734.829018l-131.052778-81.202417c-14.896268-9.218966-27.110451-2.490727-27.110451 15.020089v54.40612H349.535815c-116.41029 0-211.133651-94.723362-211.133652-211.132628 0-40.756239 11.653411-80.32749 33.653471-114.417913 9.224082-14.273075 5.106298-33.339316-9.100262-42.562374-14.273075-9.16166-33.339316-5.048993-42.500976 9.156544-28.478612 44.060495-43.561122 95.223758-43.561122 147.884118 0 72.849168 28.355815 141.27663 79.828117 192.748932 51.477418 51.538817 119.965256 79.893608 192.814424 79.893609h308.910558v54.716182c0 17.509792 12.028964 24.051789 26.734898 14.519692l131.680065-85.063351c14.705933-9.475815 14.583137-24.742521-0.314155-33.966603z" fill="currentColor" p-id="2901"></path></svg>
            </button>
            <button class="table_btn">
                <svg t="1738748802258" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2599" width="20" height="20"><path d="M171.712 571.648l0.352 0.32 287.904 252.8a64 64 0 0 0 82.912 1.344l296.832-244.544a215.584 215.584 0 1 0-301.824-300.576L512 316.672l-25.888-35.616a215.584 215.584 0 1 0-314.4 290.624zM32 407.584a279.584 279.584 0 0 1 480-194.944 279.584 279.584 0 0 1 480 194.944 278.144 278.144 0 0 1-113.024 224.512l-295.36 243.392a128 128 0 0 1-165.888-2.592L129.984 620.16A278.976 278.976 0 0 1 32 407.584z" fill="currentColor" p-id="2600"></path></svg>
            </button>
            <button class="table_btn">
                <svg t="1738748829660" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3625" width="20" height="20"><path d="M921.84736468 997.93033544H101.54506534c-24.68943392 0-44.71162586-20.00838352-44.71162584-44.71162585V631.455181c0-24.70324234 20.02219194-44.71162586 44.71162584-44.71162585s44.71162586 20.00838352 44.71162586 44.71162585v277.05190275h730.87904765V631.455181c0-24.70324234 20.02219194-44.71162586 44.71162583-44.71162585 24.68943392 0 44.71162586 20.00838352 44.71162586 44.71162585V953.21870959c0 24.70324234-20.02219194 44.71162586-44.71162586 44.71162585z" fill="currentColor" p-id="3626"></path><path d="M511.69621502 839.9897621c-24.68943392 0-44.71162586-20.00838352-44.71162585-44.71162585V70.54383027c0-24.70324234 20.02219194-44.71162586 44.71162585-44.71162586s44.71162586 20.00838352 44.71162585 44.71162586v724.73430598c0 24.70324234-20.02219194 44.71162586-44.71162585 44.71162585z" fill="currentColor" p-id="3627"></path><path d="M511.69621502 869.73307344c-14.37455297 0-27.92060144-6.93182094-36.30230524-18.61373431L323.62569491 639.87831001c-14.41597819-20.04980875-9.84539506-47.998027 10.21822209-62.41400518 20.02219194-14.37455297 47.94279339-9.85920347 62.3863884 10.21822208l115.47971803 160.70225499 115.45210121-160.68844659c14.443595-20.09123397 42.37800485-24.60658347 62.38638839-10.23203048 20.04980875 14.41597819 24.62039188 42.33657964 10.21822208 62.40019679l-151.75440644 211.2272207a44.65639221 44.65639221 0 0 1-36.31611365 18.64135112z" fill="currentColor" p-id="3628"></path></svg>
            </button>
            <button class="table_btn">
                <svg t="1738748861218" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4706" width="20" height="20"><path d="M481.578667 968.832l-157.909334-158.293333H85.418667A85.290667 85.290667 0 0 1 0 725.12L0.426667 128.042667C0.426667 80.768 38.4 42.666667 85.845333 42.666667h852.778667c47.189333 0 85.418667 38.101333 85.376 85.418666l-0.426667 597.12c0 47.146667-38.229333 85.333333-85.376 85.333334h-237.781333l-158.549333 158.293333a42.624 42.624 0 0 1-60.288 0z m456.704-243.712L938.666667 128.042667s-852.906667-0.128-852.906667 0.042666c0 0-0.384 597.077333-0.298667 597.077334H341.333333c11.306667 0 22.186667 4.48 30.165334 12.501333l140.330666 140.629333 140.8-140.672a42.624 42.624 0 0 1 30.165334-12.458666h255.488zM277.333333 512a64 64 0 1 1 0-128 64 64 0 0 1 0 128z m234.666667 0a64 64 0 1 1 0-128 64 64 0 0 1 0 128z m234.666667 0a64 64 0 1 1 0-128 64 64 0 0 1 0 128z" fill="currentColor" p-id="4707"></path></svg>
            </button>
            
            <div class="clear">
                <button class="clear_btn" v-if="clear_mode" @click="changeMode">
                纯净<svg t="1738749425964" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3319" width="35" height="35"><path d="M634.784 288c120.832 0 218.784 97.952 218.784 218.784s-97.952 218.784-218.784 218.784h-256C257.952 725.568 160 627.616 160 506.784S257.952 288 378.784 288h256z m0 48h-256C284.464 336 208 412.464 208 506.784s76.464 170.784 170.784 170.784h256c94.32 0 170.784-76.464 170.784-170.784S729.104 336 634.784 336z m-274.112 85.856c12.96 0 24.48 1.376 34.56 4.096 10.08 2.736 18.512 7.552 25.344 14.464 6.832 6.912 12 16.256 15.488 28.032 3.504 11.776 5.248 26.72 5.248 44.8 0 18.096-1.76 33.024-5.248 44.8-3.504 11.776-8.656 21.12-15.488 28.032a55.136 55.136 0 0 1-25.344 14.464c-10.08 2.736-21.6 4.096-34.56 4.096-12.8 0-24.24-1.36-34.304-4.096a55.136 55.136 0 0 1-25.344-14.464c-6.832-6.912-12.032-16.256-15.616-28.032-3.584-11.776-5.376-26.704-5.376-44.8 0-18.08 1.792-33.024 5.376-44.8 3.584-11.776 8.8-21.12 15.616-28.032a55.136 55.136 0 0 1 25.344-14.464c10.08-2.72 21.504-4.096 34.304-4.096z m212.8 2.56a11.2 11.2 0 0 1 11.2 11.2v11.392a11.2 11.2 0 0 1-11.2 11.2H515.04v41.216h53.312a11.2 11.2 0 0 1 11.2 11.2v11.136a11.2 11.2 0 0 1-11.2 11.2H515.04v57.92a11.2 11.2 0 0 1-11.2 11.2h-16.512a11.2 11.2 0 0 1-11.2-11.2v-155.264a11.2 11.2 0 0 1 11.2-11.2h86.144z m137.984 0a11.2 11.2 0 0 1 11.2 11.2v11.392a11.2 11.2 0 0 1-11.2 11.2h-58.432v41.216h53.312a11.2 11.2 0 0 1 11.2 11.2v11.136a11.2 11.2 0 0 1-11.2 11.2h-53.312v57.92a11.2 11.2 0 0 1-11.2 11.2h-16.512a11.2 11.2 0 0 1-11.2-11.2v-155.264a11.2 11.2 0 0 1 11.2-11.2h86.144zM360.672 453.6c-8.192 0-14.848 1.072-19.968 3.2-5.12 2.144-9.12 5.6-12.032 10.368-2.896 4.8-4.912 10.976-6.016 18.56a194.08 194.08 0 0 0-1.664 27.52c0 10.928 0.56 20.16 1.664 27.648 1.12 7.52 3.12 13.568 6.016 18.176 2.896 4.608 6.912 7.936 12.032 9.984s11.776 3.072 19.968 3.072 14.88-1.024 20.096-3.072a24.64 24.64 0 0 0 12.16-9.984c2.896-4.608 4.912-10.656 6.016-18.176 1.12-7.504 1.664-16.72 1.664-27.648 0-10.752-0.56-19.92-1.664-27.52-1.12-7.584-3.12-13.76-6.016-18.56a24.928 24.928 0 0 0-12.16-10.368c-5.2-2.128-11.904-3.2-20.096-3.2z" fill="currentColor" p-id="3320"></path></svg>
                </button>
                <button class="clear_btn" v-else @click="changeMode">
                    <svg t="1738749473279" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3466" width="35" height="35"><path d="M634.784 288c120.832 0 218.784 97.952 218.784 218.784s-97.952 218.784-218.784 218.784h-256C257.952 725.568 160 627.616 160 506.784S257.952 288 378.784 288h256z m0 48h-256C284.464 336 208 412.464 208 506.784s76.464 170.784 170.784 170.784h256c94.32 0 170.784-76.464 170.784-170.784S729.104 336 634.784 336z m-233.28 69.856c12.96 0 24.48 1.376 34.56 4.096 10.08 2.736 18.512 7.552 25.344 14.464 6.832 6.912 12 16.256 15.488 28.032 3.504 11.776 5.248 26.72 5.248 44.8 0 18.096-1.76 33.024-5.248 44.8-3.504 11.776-8.656 21.12-15.488 28.032a55.136 55.136 0 0 1-25.344 14.464c-10.08 2.736-21.6 4.096-34.56 4.096-12.8 0-24.24-1.36-34.304-4.096a55.136 55.136 0 0 1-25.344-14.464c-6.832-6.912-12.032-16.256-15.616-28.032-3.584-11.776-5.376-26.704-5.376-44.8 0-18.08 1.792-33.024 5.376-44.8 3.584-11.776 8.8-21.12 15.616-28.032a55.136 55.136 0 0 1 25.344-14.464c10.08-2.72 21.504-4.096 34.304-4.096z m164.4 2.56a16 16 0 0 1 14.656 9.568l51.6 117.408h1.536v-115.776a11.2 11.2 0 0 1 11.2-11.2h15.744a11.2 11.2 0 0 1 11.2 11.2v153.664a12.8 12.8 0 0 1-12.8 12.8H626.56a12.8 12.8 0 0 1-11.648-7.504l-58.032-127.664h-1.536v123.968a11.2 11.2 0 0 1-11.2 11.2h-16a11.2 11.2 0 0 1-11.2-11.2v-150.464a16 16 0 0 1 16-16h32.96zM401.504 437.6c-8.192 0-14.848 1.072-19.968 3.2-5.12 2.144-9.12 5.6-12.032 10.368-2.896 4.8-4.912 10.976-6.016 18.56a194.08 194.08 0 0 0-1.664 27.52c0 10.928 0.56 20.16 1.664 27.648 1.12 7.52 3.12 13.568 6.016 18.176 2.896 4.608 6.912 7.936 12.032 9.984s11.776 3.072 19.968 3.072 14.88-1.024 20.096-3.072a24.64 24.64 0 0 0 12.16-9.984c2.896-4.608 4.912-10.656 6.016-18.176 1.12-7.504 1.664-16.72 1.664-27.648 0-10.752-0.56-19.92-1.664-27.52-1.12-7.584-3.12-13.76-6.016-18.56a24.928 24.928 0 0 0-12.16-10.368c-5.2-2.128-11.904-3.2-20.096-3.2z" fill="currentColor" p-id="3467"></path></svg>纯净
                </button>
            </div>



            <button class="table_btn" v-if="voice_mode" @click="closevoice">
                <svg t="1739190768400" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5170" width="35" height="35"><path d="M257.493333 322.4l215.573334-133.056c24.981333-15.413333 57.877333-7.914667 73.493333 16.746667 5.301333 8.373333 8.106667 18.048 8.106667 27.914666v555.989334C554.666667 819.093333 530.784 842.666667 501.333333 842.666667c-9.994667 0-19.786667-2.773333-28.266666-8L257.493333 701.6H160c-41.237333 0-74.666667-33.013333-74.666667-73.738667V396.138667c0-40.725333 33.429333-73.738667 74.666667-73.738667h97.493333z m26.133334 58.4a32.298667 32.298667 0 0 1-16.96 4.8H160c-5.888 0-10.666667 4.714667-10.666667 10.538667v231.733333c0 5.813333 4.778667 10.538667 10.666667 10.538667h106.666667c5.994667 0 11.872 1.664 16.96 4.8L490.666667 770.986667V253.013333L283.626667 380.8zM800.906667 829.653333a32.288 32.288 0 0 1-45.248-0.757333 31.317333 31.317333 0 0 1 0.768-44.693333c157.653333-150.464 157.653333-393.962667 0-544.426667a31.317333 31.317333 0 0 1-0.768-44.682667 32.288 32.288 0 0 1 45.248-0.757333c183.68 175.306667 183.68 460.010667 0 635.317333z m-106.901334-126.186666a32.288 32.288 0 0 1-45.248-1.216 31.328 31.328 0 0 1 1.237334-44.672c86.229333-80.608 86.229333-210.56 0-291.178667a31.328 31.328 0 0 1-1.237334-44.672 32.288 32.288 0 0 1 45.248-1.216c112.885333 105.546667 112.885333 277.418667 0 382.965333z" fill="currentColor" p-id="5171"></path></svg>
            </button>
               
            <button class="table_btn" v-else @click="openvoice">
                <svg t="1739190815647" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5317" width="35" height="35"><path d="M128 420.576v200.864h149.12l175.456 140.064V284.288l-169.792 136.288H128z m132.256-64l204.288-163.968a32 32 0 0 1 52.032 24.96v610.432a32 32 0 0 1-51.968 24.992l-209.92-167.552H96a32 32 0 0 1-32-32v-264.864a32 32 0 0 1 32-32h164.256zM752 458.656L870.4 300.8a32 32 0 1 1 51.2 38.4L792 512l129.6 172.8a32 32 0 0 1-51.2 38.4l-118.4-157.856-118.4 157.856a32 32 0 0 1-51.2-38.4l129.6-172.8-129.6-172.8a32 32 0 0 1 51.2-38.4l118.4 157.856z" fill="currentColor" p-id="5318"></path></svg>
            </button>
            <div style="width: 60px;">
                <el-slider v-model="voice" @input="updatevoice" :show-tooltip="false" />
            </div>
            

        </div>
    </div>
    
</template>


<script lang="ts">
    import { ref } from 'vue';
    export default {
        name:'music_player'
    }

</script>


<script lang="ts" setup>

    interface Music {
    name: string
    songer: string
    time: string
    }

    const music=ref<HTMLAudioElement | null>(null)

    const playmusic=()=>{
        if(music.value){
            music.value.play();
            play_pause.value=false;
        }
    }

    const pausemusic=()=>{
        if(music.value){
            music.value.pause();
            play_pause.value=true;
        }
    }

    const updatetime=()=>{
        if(music.value){
            progress.value=music.value.currentTime/music.value.duration*100;
        }
    }

    const settime=()=>{
        if(music.value){
            music.value.currentTime=progress.value/100*music.value.duration;
        }
    }

    const updatevoice=()=>{
        console.log(voice.value)
        
        if(music.value){
            music.value.volume=voice.value/100;
        }
    }

    const formatime=(seconds: number|null)=>{
        if(seconds){
            const min=Math.floor(seconds/60);
            const sec=Math.floor(seconds)%60;
            return String(min).padStart(2,'0')+":"+String(sec).padStart(2,'0');
        }
    }

    let clear_mode=ref(true);
    let progress=ref()
    let voice=ref(50)
    let temp_voice=0
    let index=ref(-1)
    let play_pause=ref(true);
    let voice_mode=ref(true);


    const changeIndex=(row: Music)=>{
        index.value = tableData.findIndex(item => 
            item.name === row.name && item.songer === row.songer && item.time === row.time
        );
    }
    const deleteindex=()=>{
        index.value=-1;
    }
    const getIndex=(row: Music)=>{
        return tableData.findIndex(item => 
            item.name === row.name && item.songer === row.songer && item.time === row.time
        );
    }

    const closevoice=()=>{
        if(music.value){
            voice_mode.value=false;
            temp_voice=music.value.volume;
            music.value.volume=0;
            voice.value=0;
        }
    }

    const openvoice=()=>{
        if(music.value){
            voice_mode.value=true;
            music.value.volume=temp_voice;
            voice.value=temp_voice;
        }
    }

    const changeMode=()=>{
        clear_mode.value=!clear_mode.value;
    }
    const tableData: Music[] = [
        {
            name:"听悲伤的情歌",
            songer:"苏星捷",
            time:"02:37"
        },
    ]


</script>

<style>
    .main{
        display: flex;
        flex-direction: column;
        gap: 70px;
        height: 100%;
        position: relative;
    }
    .main:before{
        content: "";
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        position: absolute;
        filter: blur(8px);
        background-size: cover;
        background-image:url('/music/background.png');
        z-index: -1;
    }
    .line1{
        display: flex;
        flex-direction: row;
        gap: 1300px;
    }
    .user{
        display: flex;
        flex-direction: row;
        gap: 10px;
    }
    .line2{
        display: flex;
        flex-direction: row;
        gap: 100px;
        background-color: transparent;
    }
    .line2_left{
        background-color: transparent;
    }
    .line2_right{
        display: flex;
        flex-direction: column;
        align-items: center;
        
    }
    .el-table{
        color: #e1e1e1cc;
        font-size: 14px;
        font-family: poppin,Tahoma,Arial,\5FAE\8F6F\96C5\9ED1,sans-serif;
        width: 1000px;
        background-color: transparent;
    }
    .el-table td.el-table__cell, .el-table th.el-table__cell.is-leaf{
        border-bottom: none;
    }

    .el-table th.el-table__cell{
        background-color: transparent;
        color: #e1e1e1cc;
        font-size: 14px;
        font-family: poppin,Tahoma,Arial,\5FAE\8F6F\96C5\9ED1,sans-serif;
    }
    .el-table--enable-row-hover .el-table__body tr:hover>td.el-table__cell{
        background-color: transparent;
    }
    .el-table__inner-wrapper:before{
        height: 0px;
    }
    .cover{
        width: 200px;
        height: 150px;
        background-color: red;
    }
    .lyric{
        width: 300px;
        height: 300px;
        color: #e1e1e1cc;
        font-size: 14px;
        font-family: poppin,Tahoma,Arial,\5FAE\8F6F\96C5\9ED1,sans-serif;
        text-align: center;
    }
    .music_menu{
        display: flex;
        flex-direction: row;
        gap: 10px;
        align-items: center;
    }
    .menu_center{
        display: flex;
        flex-direction: column;
        background-color: transparent;
    }
    .menu_center_child{
        display: flex;
        flex-direction: row;
        color: #e1e1e1cc;
        font-size: 14px;
        font-family: poppin,Tahoma,Arial,\5FAE\8F6F\96C5\9ED1,sans-serif;
        justify-content: space-between;



    }
    .player-btn{
            background-color: transparent;
            border-radius: 2px;
            font-size: 14px;
            margin-right: 6px;
            padding: 0 23px;
            height: 38px;
            line-height: 38px;
            display: inline-block;
            width: 130px;
            white-space: nowrap;
            box-sizing: border-box;
            overflow: hidden;
            color: #ddd;
            border: 1px solid #c9c9c9;
            align-items: center;
        
        
    }
    .player-btn:hover{
            border-color: white;
            color: white;
            background-color: transparent;
            border-radius: 2px;
            font-size: 14px;
            margin-right: 6px;
            padding: 0 23px;
            height: 38px;
            line-height: 38px;
            display: inline-block;
            white-space: nowrap;
            box-sizing: border-box;
    }
    .clear_btn{
        font-family: poppin, Tahoma, Arial, 微软雅黑, sans-serif;
        font-size: 14px;
        background-color: transparent;
        color: #e1e1e1cc;
        display: flex;
        flex-direction: row;
        border-radius: 20px;
        display: flex;
        flex-direction: row;
        align-items: center;
        border-color: #e1e1e1cc;
    }
    .clear_btn:hover{
        color: white;
    }
    .motion_frame{
        display: flex;
        flex-direction: row;
    }
    .table_btn{
        font-family: poppin, Tahoma, Arial, 微软雅黑, sans-serif;
        font-size: 14px;
        border: none;
        background-color: transparent;
        color: #e1e1e1cc;
        display: flex;
        flex-direction: row;
    }
    .table_btn:hover{
        color: white;
    }
    .menu_center{
        width: 650px;
    }
    .el-slider{
        --el-slider-main-bg-color:#ffffffb2;
        --el-slider-runway-bg-color:#ffffff1a;
        --el-slider-height:1px;
        --el-slider-button-size:10px;
        
    }

    .el-slider__button{
            transform: translateY(-3px); 
    }
    .clear{
        display: flex;
        flex-direction: row;
    }
    .title{
        font-family: in,Tahoma,Arial,\5FAE\8F6F\96C5\9ED1,sans-serif;
        font-size: 30px;
        color: #ddd;
    }
</style>
